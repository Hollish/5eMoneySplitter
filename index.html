<!DOCTYPE html>
<html>
	<head>
		<title>Money Splitter</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<style>
		</style>
	</head>
	<body>
		<div class="container">
			<h1>Money Splitter</h1>
		</div>
		<hr>
		<div class="container">
			<div class="card">
				<div class="card-body">
					<div class="row">
						<div class="col-md-5">
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="copper">Copper</span>
									</div>
								<input type="text" id="copperInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="silver">Silver</span>
									</div>
								<input type="text" id="silverInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="electrum">Electrum</span>
									</div>
								<input type="text" id="electrumInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="gold">Gold</span>
									</div>
								<input type="text" id="goldInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="platinum">Platinum</span>
									</div>
								<input type="text" id="platinumInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>
						</div>
						<div class="col-md-7">
							<div class="input-group input-group-sm mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text bg-dark text-white" id="players">Number of Players</span>
									</div>
								<input type="text" id="playersInput" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
							</div>	
							<table class="table table-sm" id="output">
								<tr>
									<th>Player</th>
									<th>Plat</th>
									<th>Gold</th>
									<th>Elect</th>
									<th>Silver</th>
									<th>Copper</th>
								</tr>

							</table>
						</div>
						<div class="col">
							<button onclick="divideMoney()" class="btn btn-success">Divide the Money!</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			function divideMoney() {
				var oldRows = [];
				oldRows = document.getElementsByClassName("toBeDeleted");

				var size = oldRows.length - 1;

				for (i = size; i>=0; i--)
				{
					oldRows[i].parentNode.removeChild(oldRows[i]);
				}

				var copper;
				var silver;
				var electrum;
				var gold;
				var platinum;

				if (document.getElementById("copperInput").value != "")
				{
					copper = parseInt(document.getElementById("copperInput").value);
				}
				else
				{
					copper = 0;
				}
				if (document.getElementById("silverInput").value != "")
				{
					silver = parseInt(document.getElementById("silverInput").value);
				}
				else
				{
					silver = 0;
				}
				if (document.getElementById("electrumInput").value != "")
				{
					electrum = parseInt(document.getElementById("electrumInput").value);
				}
				else
				{
					electrum = 0;
				}
				if (document.getElementById("goldInput").value != "")
				{
					gold = parseInt(document.getElementById("goldInput").value);
				}
				else
				{
					gold = 0;
				}
				if (document.getElementById("platinumInput").value != "")
				{
					platinum = parseInt(document.getElementById("platinumInput").value);
				}
				else
				{
					platinum = 0;
				}

				var players = parseInt(document.getElementById("playersInput").value);
				var playersArray = [];


				for (i=0; i<players; i++)
				{
					playersArray.push({
						copper: 0,
						silver: 0,
						electrum: 0,
						gold: 0,
						platinum: 0,
					})
				}
				
				while (copper > 0 || silver > 0 || electrum > 0 || gold > 0 || platinum > 0)
				{
					for (i=0; i<players; i++)
					{
						if (copper > 0)
						{
							copper--;
							playersArray[i].copper += 1;
						}
						if (silver > 0)
						{
							silver--;
							playersArray[i].silver++;
						}
						if (electrum > 0)
						{
							electrum--;
							playersArray[i].electrum = playersArray[i].electrum + 1;
						}
						if (gold > 0)
						{
							gold--;
							playersArray[i].gold++;
						}
						if (platinum > 0)
						{
							platinum--;
							playersArray[i].platinum++;
						}
					}
				}

				for (i=1; i<players+1; i++)
				{
					var row = document.createElement('tr');
					row.className = "toBeDeleted";
					
					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode("Player " + i));
					row.appendChild(cell);

					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode(playersArray[i-1].platinum));
					row.appendChild(cell);

					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode(playersArray[i-1].gold));
					row.appendChild(cell);

					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode(playersArray[i-1].electrum));
					row.appendChild(cell);

					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode(playersArray[i-1].silver));
					row.appendChild(cell);

					var cell = document.createElement('td');
					cell.appendChild(document.createTextNode(playersArray[i-1].copper));
					row.appendChild(cell);

					
					
					document.getElementById("output").appendChild(row);
				}
				
			}

			function checkEmpty(value)
			{
				if (value == null || value == "" || value == NaN)
				{
					return 0;
				}
				else
				{
					return value;
				}
			}
		
		</script>
	</body>
</html>
